{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NMgM - 프로토타입 체험</title>
    <link rel="stylesheet" href="{% static 'css/landing-style.css' %}">
    <link rel="stylesheet" href="{% static 'css/prototype-style.css' %}">
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
    <!-- 랜딩페이지 헤더 재사용 -->
    <header class="main-header scrolled">
        <div class="container header-container">
            <a href="{% url 'landing' %}" class="logo">NMgM</a>
            <nav class="main-nav">
                <ul>
                    <li><a href="{% url 'landing' %}#features">서비스 소개</a></li>
                    <li><a href="{% url 'landing' %}#main-screens">주요 화면</a></li>
                    <li><a href="{% url 'landing' %}#why-nmgm">Why NMgM?</a></li>
                    <li><a href="{% url 'landing' %}#tech-intro">기술 소개</a></li>
                </ul>
            </nav>
            <a href="{% url 'landing' %}#report-upload" class="btn btn-primary">메인 페이지 돌아가기</a>
        </div>
    </header>

    <main class="prototype-main">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title-small"> NMgM 미리보기</h2>
            </div>

            <div class="toggle-buttons">
                <button class="toggle-btn active" data-target="app-prototype">앱 프로토타입</button>
                <button class="toggle-btn" data-target="api-prototype">API 프로토타입</button>
            </div>

            <p id="prototype-description" class="prototype-description">NMgM 어플의 구조를 직접 경험해보세요! 앱에서는 실제 대화를 기반으로 한 관계 리포트를 동시에 받아볼 수 있습니다. AI가 당신의 말투와 감성을 이해하고, 더 따뜻하고 명확한 대화를 돕습니다.</p>

            <div class="display-frame">
                <!-- NMGm 어플 프로토타입 -->
                <div id="app-prototype" class="prototype-content active">
                    <div class="phone-frame">
                        <div class="phone-screen">
                            <!-- Screen 1: 시작 화면 (새로운 디자인) -->
                            <div class="app-screen active" id="app-screen-1">
                                <div class="login-screen-content">
                                    <header class="login-header">NMgM</header>
                                    <div class="login-main">
                                        <h1 class="login-title">NMgM<br>내말그말</h1>
                                        <p class="login-subtitle">당신의 말 사이, 진심을 이해하는 플랫폼</p>
                                    </div>
                                    <footer class="login-footer">
                                        <button class="btn-demo-login" id="btn-start-demo">데모 로그인하기</button>
                                        <p class="signup-link">아직 계정이 없으신가요?</p>
                                    </footer>
                                </div>
                            </div>
                            <!-- Screen 2: 채팅 목록 (새로운 디자인) -->
                            <div class="app-screen" id="app-screen-2">
                                <div class="app-dashboard-container">
                                    <header class="app-header">
                                        <div class="app-logo">NMgM</div>
                                        <div>
                                            <p class="app-greeting">안녕하세요 👋</p>
                                            <p class="app-user-name">김하윤 님</p>
                                        </div>
                                    </header>
                                    <main class="app-main">
                                        <div class="app-search-bar"><input type="text" placeholder="채팅방 찾기"></div>
                                        <section class="app-habit-card">
                                            <div class="app-habit-text">
                                                <h4>하윤님의 대화 습관 리포트 💬</h4>
                                                <p>AI 한줄 피드백: 하윤님, 이번주는 부드러운 한 주였어요. 공손한 말투가 늘었고, 괜찮아요 표현을 자주 사용했어요 🙂</p>
                                                <button class="app-btn-detail">자세한 분석 보기</button>
                                            </div>
                                            <div class="app-habit-chart">
                                                <p>이 주의 대화 감정</p>
                                                <div class="app-emotion-score"><span>긍정</span><strong>85%</strong></div>
                                            </div>
                                        </section>
                                        <nav class="app-sns-filter">
                                            <button class="sns-filter-btn active" data-platform="kakao">Kakao</button>
                                            <button class="sns-filter-btn" data-platform="instagram">Instagram</button>
                                            <button class="sns-filter-btn" data-platform="slack">Slack</button>
                                        </nav>
                                        <section class="app-chat-list-container">
                                            <div class="list-header">
                                                <h4>채팅방 리스트</h4>
                                                <span>동기화 시간 11:37</span>
                                            </div>
                                            <!-- Kakao 채팅방 -->
                                            <div class="app-chat-list active" data-platform="kakao">
                                                <article class="app-chat-item">
                                                    <img src="https://i.pravatar.cc/150?img=1" alt="김하윤 경제 24" class="app-profile-pic">
                                                    <div class="app-chat-details">
                                                        <div class="app-chat-header"><span>김하윤 경제 24</span><span>11:36</span></div>
                                                        <p class="app-chat-preview">다음에 가면 너무 좋겠...</p>
                                                        <p class="app-analysis-title">한줄 관계 분석: "서로의 대화 템포가 잘 맞아요"</p>
                                                        <div class="app-chat-temp positive">🔥 긍정적 81% • 관계 온도 +3도</div>
                                                        <div class="app-chat-tags"><span>#공감형</span><span>#활발한 대화</span></div>
                                                        <a href="#" class="app-detail-link btn-analyze-chat">상세 분석 보기 &gt;</a>
                                                    </div>
                                                </article>
                                                <article class="app-chat-item">
                                                    <img src="https://i.pravatar.cc/150?img=2" alt="최영한 교수님" class="app-profile-pic">
                                                    <div class="app-chat-details">
                                                        <div class="app-chat-header"><span>최영한 교수님</span><span>11:35</span></div>
                                                        <p class="app-chat-preview">어제 요청한 부분만 처리해주세...</p>
                                                        <p class="app-analysis-title">한줄 관계 분석: "주로 업무와 관련된 대화가 많아요"</p>
                                                        <div class="app-chat-temp neutral">💧 중립적 60% • 관계 온도 -1도</div>
                                                        <div class="app-chat-tags"><span>#업무 중심</span><span>#간결함</span></div>
                                                        <a href="#" class="app-detail-link">상세 분석 보기 &gt;</a>
                                                    </div>
                                                </article>
                                            </div>
                                            <!-- Instagram 채팅방 -->
                                            <div class="app-chat-list" data-platform="instagram">
                                                <article class="app-chat-item">
                                                    <img src="https://i.pravatar.cc/150?img=3" alt="맛집탐방 모임" class="app-profile-pic">
                                                    <div class="app-chat-details">
                                                        <div class="app-chat-header"><span>맛집탐방 모임 (5)</span><span>어제</span></div>
                                                        <p class="app-chat-preview">여기 진짜 맛있어 보여요!</p>
                                                        <p class="app-analysis-title">한줄 관계 분석: "친목 중심의 활발한 대화방입니다."</p>
                                                        <div class="app-chat-temp positive">🔥 긍정적 92% • 관계 온도 +5도</div>
                                                        <div class="app-chat-tags"><span>#친목</span><span>#정보공유</span></div>
                                                        <a href="#" class="app-detail-link">상세 분석 보기 &gt;</a>
                                                    </div>
                                                </article>
                                                 <article class="app-chat-item">
                                                    <img src="https://i.pravatar.cc/150?img=4" alt="박서아" class="app-profile-pic">
                                                    <div class="app-chat-details">
                                                        <div class="app-chat-header"><span>박서아</span><span>2일 전</span></div>
                                                        <p class="app-chat-preview">다음에 꼭 같이 가자~</p>
                                                        <p class="app-analysis-title">한줄 관계 분석: "서로에게 우호적인 관계입니다."</p>
                                                        <div class="app-chat-temp positive">🔥 긍정적 88% • 관계 온도 +2도</div>
                                                        <div class="app-chat-tags"><span>#약속</span><span>#우호적</span></div>
                                                        <a href="#" class="app-detail-link">상세 분석 보기 &gt;</a>
                                                    </div>
                                                </article>
                                            </div>
                                            <!-- Slack 채팅방 -->
                                            <div class="app-chat-list" data-platform="slack">
                                                <article class="app-chat-item">
                                                    <img src="https://i.pravatar.cc/150?img=5" alt="# general" class="app-profile-pic">
                                                    <div class="app-chat-details">
                                                        <div class="app-chat-header"><span># general</span><span>10:30</span></div>
                                                        <p class="app-chat-preview">@channel 점심 식사 맛있게 하세요!</p>
                                                        <p class="app-analysis-title">한줄 관계 분석: "주로 공지와 일상 공유가 이뤄집니다."</p>
                                                        <div class="app-chat-temp neutral">💧 중립적 75% • 관계 온도 0도</div>
                                                        <div class="app-chat-tags"><span>#공지</span><span>#일상</span></div>
                                                        <a href="#" class="app-detail-link">상세 분석 보기 &gt;</a>
                                                    </div>
                                                </article>
                                                <article class="app-chat-item">
                                                    <img src="https://i.pravatar.cc/150?img=6" alt="# project-nmgm" class="app-profile-pic">
                                                    <div class="app-chat-details">
                                                        <div class="app-chat-header"><span># project-nmgm</span><span>09:55</span></div>
                                                        <p class="app-chat-preview">API 명세서 업데이트했습니다.</p>
                                                        <p class="app-analysis-title">한줄 관계 분석: "프로젝트 관련 정보 공유가 활발합니다."</p>
                                                        <div class="app-chat-temp neutral">💧 중립적 80% • 관계 온도 +1도</div>
                                                        <div class="app-chat-tags"><span>#프로젝트</span><span>#개발</span></div>
                                                        <a href="#" class="app-detail-link">상세 분석 보기 &gt;</a>
                                                    </div>
                                                </article>
                                            </div>
                                        </section>
                                    </main>
                                </div>
                            </div>
                            
                            <!-- Screen 3: 보고서(개요) -->
                            <div class="app-screen" id="app-screen-3">
                                <div class="report-preview">
                                    <div class="report-header">
                                        <button class="btn-back" id="btn-back-to-list">
                                            <i data-lucide="arrow-left"></i>
                                        </button>
                                        <h4>분석 보고서 · 개요</h4>
                                    </div>

                                    <!-- 요약 카드 -->
                                    <section class="report-card kpi-summary">
                                        <header class="card-head">
                                            <h2 class="card-title">AI 한줄 요약</h2>
                                            <button class="btn-secondary" id="btn-go-detail">자세한 분석 보기</button>
                                        </header>
                                        <p class="card-text">
                                            최근 대화에서 하윤님은 솔직하고 긍정적인 분위기를 주도합니다. 다만 빠른 템포와
                                            대명사 중심 표현이 간혹 의미 오해를 유발할 수 있어요.
                                        </p>

                                        <div class="kpi-grid">
                                            <!-- 도넛 KPI: 감정전달력 -->
                                            <div class="kpi">
                                                <svg viewBox="0 0 44 44" class="donut">
                                                    <circle cx="22" cy="22" r="19" class="donut-track"></circle>
                                                    <circle cx="22" cy="22" r="19" class="donut-bar" 
                                                            stroke-dasharray="119.38 119.38" stroke-dashoffset="68.06"></circle>
                                                    <text x="22" y="22" class="donut-label">43%</text>
                                                </svg>
                                                <div class="kpi-meta">
                                                    <strong>감정 전달력</strong>
                                                    <span class="kpi-desc">이모지·감정어 활용이 풍부</span>
                                                </div>
                                            </div>

                                            <!-- 도넛 KPI: 의미 명확성 -->
                                            <div class="kpi">
                                                <svg viewBox="0 0 44 44" class="donut">
                                                    <circle cx="22" cy="22" r="19" class="donut-track"></circle>
                                                    <circle cx="22" cy="22" r="19" class="donut-bar"
                                                            stroke-dasharray="119.38 119.38" stroke-dashoffset="94.29"></circle>
                                                    <text x="22" y="22" class="donut-label">21%</text>
                                                </svg>
                                                <div class="kpi-meta">
                                                    <strong>의미 명확성</strong>
                                                    <span class="kpi-desc">대명사 사용↑로 문장 모호</span>
                                                </div>
                                            </div>

                                            <!-- 막대 KPI: 직설성 수치 -->
                                            <div class="kpi bars">
                                                <strong>직설성 수치</strong>
                                                <div class="bar"><span style="width: 78%"></span></div>
                                                <small>솔직·단정 톤이 강점 (완충 표현을 소량 보강)</small>
                                            </div>

                                            <!-- 막대 KPI: 의미 확인 요청 비율 -->
                                            <div class="kpi bars">
                                                <strong>의미 확인 요청</strong>
                                                <div class="bar"><span style="width: 31%"></span></div>
                                                <small>상대의 재확인 요청이 잦음 → 구체 명시 권장</small>
                                            </div>
                                        </div>
                                    </section>

                                    <!-- 말끝(종결어미) TOP5 -->
                                    <section class="report-card ending-stats">
                                        <h2 class="card-title">가장 가까운 대화 상대 - 관계 온도</h2>
                                        <ul class="ending-list">
                                            <li><span>김하윤 - 71도</span><div class="bar"><span style="width: 85%"></span></div></li>
                                            <li><span>윤성빈 - 60도</span><div class="bar"><span style="width: 72%"></span></div></li>
                                            <li><span>엄마 - 51도</span><div class="bar"><span style="width: 54%"></span></div></li>
                                            <li><span>최영한 교수님 - 32도 </span><div class="bar"><span style="width: 41%"></span></div></li>
                                            <li><span>양창섭 선배님 - 23도</span><div class="bar"><span style="width: 28%"></span></div></li>
                                        </ul>
                                    </section>

                                    <!-- 강점/리스크 -->
                                    <section class="report-card two-col">
                                        <div>
                                            <h2 class="card-title">의사소통 강점</h2>
                                            <ul class="checklist">
                                                <li>솔직·직관적 표현으로 의도 전달이 빠름</li>
                                                <li>감정어·이모지 활용으로 높은 감정 전달력</li>
                                                <li>대화를 주도하며 에너지 있는 분위기 형성</li>
                                            </ul>
                                        </div>
                                        <div>
                                            <h2 class="card-title">잠재 리스크</h2>
                                            <ul class="checklist warn">
                                                <li>빠른 템포가 오해·충돌로 이어질 위험</li>
                                                <li>대명사 중심 표현 → 의미 모호성 증가</li>
                                                <li>짧은 메시지로 정보가 축약·생략될 수 있음</li>
                                            </ul>
                                        </div>
                                    </section>

                                    <!-- 개선 가이드 -->
                                    <section class="report-card">
                                        <h2 class="card-title">개선 가이드</h2>
                                        <ol class="guide-list">
                                            <li><strong>감정표현 + 이유</strong>: 즉흥 감정 뒤에 한 줄 맥락을 덧붙여 충돌률↓</li>
                                            <li><strong>대명사 지양</strong>: “그거/이거” 대신 명사·대상 명시로 의미 명확성↑</li>
                                            <li><strong>요약·재확인</strong>: 빠른 답 대신 짧은 요약 문장으로 완결성↑</li>
                                        </ol>
                                    </section>
                                </div>
                            </div>
                            <!-- Screen 4: 대화 상세 리포트 -->
                            <div class="app-screen" id="app-screen-4">
                                <div class="report-preview">
                                    <div class="report-header">
                                        <button class="btn-back" id="btn-back-to-overview">
                                            <i data-lucide="arrow-left"></i>
                                        </button>
                                        <h4>대화 상세 리포트</h4>
                                    </div>

                                    <!-- 페르소나 비교 -->
                                    <section class="report-card persona-compare">
                                        <h2 class="card-title">대화 성향 비교</h2>
                                        <div class="persona-grid">
                                            <div class="persona">
                                                <h3>하윤 님</h3>
                                                <p>표현형(Expressive) · 주도/감정 공유형</p>
                                                <ul class="badge-row">
                                                    <li class="badge">직설</li><li class="badge">감정</li><li class="badge">속도 빠름</li>
                                                </ul>
                                            </div>
                                            <div class="persona">
                                                <h3>상대</h3>
                                                <p>조화형(Harmonizer) · 공감/완충형</p>
                                                <ul class="badge-row">
                                                    <li class="badge">완충</li><li class="badge">공감</li><li class="badge">속도 보통</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </section>

                                    <!-- 오해 위험 구간 -->
                                    <section class="report-card">
                                        <h2 class="card-title">오해 위험 구간 (하이라이트 3)</h2>
                                        <table class="risk-table">
                                            <thead>
                                                <tr><th>시간</th><th>메시지</th><th>오해 유형</th><th>설명</th></tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>14:42</td>
                                                    <td>하윤: “나만 표현하고 나만 맞추고…”</td>
                                                    <td>감정 해석 차이</td>
                                                    <td>‘나만’이 자기비난이 아닌 서운함 표현이지만, 단정적 비난으로 들릴 수 있음</td>
                                                </tr>
                                                <tr>
                                                    <td>13:49</td>
                                                    <td>상대: “요즘 일도 많고…”</td>
                                                    <td>의미 불일치</td>
                                                    <td>업무로 말수가 준 것인데, 관계 문제로 회피하는 것으로 해석될 소지</td>
                                                </tr>
                                                <tr>
                                                    <td>23:39</td>
                                                    <td>상대: “응 괜찮아”</td>
                                                    <td>감정 해석 차이</td>
                                                    <td>달래는 의도였으나, 상황을 넘어가려는 표현으로 수용될 가능성</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </section>

                                    <!-- 액션 레시피 -->
                                    <section class="report-card action-recipe">
                                        <h2 class="card-title">대상자 맞춤 코칭</h2>
                                        <ul class="checklist">
                                            <li>단정형 표현에는 <em>질문형 꼬리</em>를 붙여 협조 신호 제공</li>
                                            <li>감정 뒤엔 맥락 한 줄: “서운해… <em>왜냐면</em> …”</li>
                                            <li>‘그거/이거’ 대신 구체 대상 명시로 모호성 제거</li>
                                        </ul>
                                    </section>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>


                
                <!-- API 프로토타입 -->
                <div id="api-prototype" class="prototype-content">
                    <div class="phone-frame">
                        <div class="phone-screen">
                            <div class="api-screen">
                                <div class="keyboard-prototype-container">
                                    <div class="chat-history" id="chat">

                                        <!-- 6턴 시나리오: A(상대) ↔ B(사용자) -->
                                        <!-- T1: A -->
                                        <div class="api-message opponent" id="msg1">
                                            <img src="https://i.pravatar.cc/150?img=8" class="avatar" alt="">
                                            <div class="bubble">나 어제부터 요리 배운다!</div>
                                        </div>

                                        <!-- T2: B (사용자) — 초기 반응(평가 어투) -->
                                        <div class="api-message user" id="msg2">
                                            <div class="bubble"></div>
                                        </div>

                                        <!-- T3: A 후속 -->
                                        <div class="api-message opponent" id="msg3">
                                            <img src="https://i.pravatar.cc/150?img=8" class="avatar" alt="">
                                            <div class="bubble">생각보다 재밌더라 ㅎㅎ 파스타부터 시작했어.</div>
                                        </div>

                                        <!-- T4: B (개선 1: 칭찬/관심 중심) -->
                                        <div class="api-message user" id="msg4">
                                            <div class="bubble"></div>
                                        </div>

                                        <!-- T5: A 긍정 응답 -->
                                        <div class="api-message opponent" id="msg5">
                                            <img src="https://i.pravatar.cc/150?img=8" class="avatar" alt="">
                                            <div class="bubble">고마워 다음에 완전 맛있게 만들어줄게!</div>
                                        </div>

                                        <!-- T6: B (개선 2: 열린질문 덧붙이기) -->
                                        <div class="api-message user" id="msg6">
                                            <div class="bubble"></div>
                                        </div>
                                    </div>

                                    <div class="ai-suggestion-bar" id="ai-bar" data-logo="{% static 'images/logo.svg' %}"></div>
                                    <div class="compose">
                                        <div id="compose-input" class="compose-input" contenteditable="true"
                                            data-placeholder="메시지를 입력하세요"></div>
                                        <button id="btn-send" class="send-btn" type="button">↑</button>
                                    </div>
                                    <div class="keyboard-area">
                                        <img src="{% static 'images/keyboard.svg' %}" alt="Keyboard UI" class="keyboard-svg">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </div>
    </main>

    <script src="{% static 'js/prototype-script.js' %}"></script>
    <script>
      lucide.createIcons();
    </script>
</body>
</html>

